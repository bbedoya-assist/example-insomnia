_id: spc_cdc084d5f41841de98e90ff8ffcd7f8a
type: ApiSpec
parentId: wrk_671d96040bcf4838926115ade6e60f28
modified: 1692984841164
created: 1692984841149
fileName: CashinService v0.0.1
contents: >-
  {
    "openapi": "3.0.1",
    "info": {
      "title": "CashinService",
      "description": "Micro servicio encargado de ralizar la operaciones cashin y cashout ",
      "version": "v0.0.1"
    },
    "servers": [
      {
        "url": "http://localhost:8080/CashinService",
        "description": "Generated server url"
      }
    ],
    "paths": {
      "/transaction": {
        "post": {
          "tags": [
            "transaction-controller"
          ],
          "summary": "Obtener código de transacción",
          "description": "Servicio que permite realizar transferencias utilizando el servicio de cashin",
          "operationId": "store",
          "requestBody": {
            "description": "Ejemplo de requestBody",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionRequest"
                },
                "examples": {
                  "TransactionRequest": {
                    "description": "TransactionRequest",
                    "value": {
                      "environment": "valor2",
                      "trn": "valor3",
                      "codTrn": "valor4",
                      "codCnl": "valor5",
                      "codTmn": "valor6",
                      "ctaDes": "valor7",
                      "ctaHas": "valor8",
                      "transactionCode": "valor9",
                      "amount": "valor10",
                      "date": "valor11",
                      "codBnk": "valor12",
                      "indFor": 0,
                      "codCcy": "valor14",
                      "indRev": "valor15",
                      "campo16": "valor17"
                    }
                  }
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Responde listado de usuarios consultados",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AnswerBean"
                  },
                  "examples": {
                    "ResponseEntity": {
                      "description": "ResponseEntity",
                      "value": {
                        "successful": true,
                        "code": null,
                        "message": null,
                        "data": {
                          "codbnk": "01",
                          "codtrn": "7135",
                          "codcnl": "7",
                          "codtmn": "SEMABONOS",
                          "coder1": "0000",
                          "errds1": "",
                          "coder2": "0000",
                          "errds2": "",
                          "coder3": "0000",
                          "errds3": "",
                          "coder4": "0000",
                          "errds4": "",
                          "coder5": "0000",
                          "errds5": "",
                          "numcar": "",
                          "typcar": "",
                          "cuscun": "000000000",
                          "procod": "",
                          "codccy": "COP",
                          "ctades": "00002705000050000000",
                          "serdes": "0071400000001",
                          "montot": "000000000001000",
                          "idnser": "00000000000000000000",
                          "sercom": "0000000000000",
                          "moncom": "000000000000000",
                          "saldis": "000000151452955",
                          "sigdis": "",
                          "monidb": "000000000000000",
                          "comidb": "000000000000000",
                          "ctahas": "00000000212000008527",
                          "serhas": "0071400000001",
                          "saldih": "000000151452955",
                          "sigdih": "",
                          "canchq": "0000",
                          "fecpro": "20170630",
                          "feccon": "20170630",
                          "benefi": "",
                          "custyp": "CC",
                          "cusidn": "1130944542",
                          "cusna1": "ASTRID",
                          "cusna2": "MILANL",
                          "salco1": "000000000000000",
                          "sigco1": "",
                          "saldi1": "000000000000000",
                          "sigdi1": "",
                          "indfor": "0",
                          "indrev": "N",
                          "motsus": "",
                          "compan": "",
                          "nrorrn": "",
                          "paisdc": "",
                          "nrocel": "",
                          "nroneg": "",
                          "nrotra": "",
                          "teller": "",
                          "noter": "",
                          "filler": ""
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Responde en caso de no existir valor en Header obligatorios",
              "content": {
                "*/*": {
                  "schema": {
                    "$ref": "#/components/schemas/AnswerBean"
                  }
                }
              }
            },
            "500": {
              "description": "Responde en caso de existir un error de servidor",
              "content": {
                "*/*": {
                  "schema": {
                    "$ref": "#/components/schemas/AnswerBean"
                  }
                }
              }
            }
          }
        }
      },
      "/hello": {
        "get": {
          "tags": [
            "hello-controller"
          ],
          "operationId": "list",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "TransactionRequest": {
          "type": "object",
          "properties": {
            "validate": {
              "$ref": "#/components/schemas/ValidateFieldCommon"
            },
            "environment": {
              "type": "string",
              "description": "Los ambientes pueden ser SEM, SEC, SET, SEQ",
              "example": "SET"
            },
            "trn": {
              "type": "string",
              "description": "Código para identificar si es un credito a cuenta o un debito.\t101 - Credito a Cuenta (CASHIN).\t102 - Debito a Cuenta (CASHOUT), con este codigo el servicio de integración construye la trama a enviar al IBS."
            },
            "codTrn": {
              "type": "string",
              "description": "Código Transacción IBS \tEste código de transacción identifica en IBS el tipo de transacción a realizar, los códigos se definen en la tabla TR del CNOFC, a este código se le relaciona la cuenta contable afectada dependiendo del tipo de transacción, por ejemplo, para el código de transacción 9700 - DEPOSITO A CUENTA DESDE POS OLIMPICA, Se deberán crear en el IBS de acuerdo al tipo de transacción que se desee realizar."
            },
            "codCnl": {
              "type": "string",
              "description": "Código canal. Definidos en tabla CN del CNOFC . 8 - Portal WEB, 7 - OFICINA, 9-CORRESPONSAL OLIMPICA, estos codigos deberan abrirse para incluir otros canales, e incluso manejar homologaciones ya que hoy estan definidos en el origen (Canales) codigos diferentes."
            },
            "codTmn": {
              "type": "string",
              "description": "Usuario de Interfaz.  Se define de acuerdo al ambiente SET,SEQ,SEC,SEM,SER + \"OLIMPIC\" ej: SECOLIMPIC, SETABONOS. Se Entregara un usuario dependiendo de las operación de negocio. Debe estar definido previamente en el modulo de cajeros como usuarios de interfaz, actualmente hay un usuario por cana, incluso dependiendo a la operacion en el canal tambien este puede abrirse, ya que a este usuario tambien van relacionados cuentas contables que se definen en el esquema contable de la operacion, por tal razon debe ser evaluado al momento de definir una nueva operación"
            },
            "ctaDes": {
              "type": "string",
              "description": "Cuenta Origen. Para CASHIN se envia la cuenta contable  de donde se realizaran los debitos para abonar a las cuentas de ahorro. La cuenta en la relación es un ejemplo no es la cuenta definitiva, depende del esquema contable que se defina.  Para CASHOUT se envía la cuenta de ahorro o corriente donde se realizaran los debitos, normalmente la asociamos a un convenio en la capa superior para poder extraer los datos y no solicitarlos en el servicio REST que se tiene hoy en el banco."
            },
            "ctaHas": {
              "type": "string",
              "description": "Cuenta Destino. Para CASHIN, Se define la cuenta de ahorro o corriente  donde se realizaran los créditos o abonos. Para CASHOUT se define la cuenta contable a donde se enviarán los dineros debitados de la cuenta de ahorro o corrientes"
            },
            "transactionCode": {
              "type": "string",
              "description": "Código generado con el servicio número de transacción. Tamaño de 11 dígitos"
            },
            "amount": {
              "type": "string",
              "description": "Valor de la transacción, se le adicionan 2 ceros al monto. No Acepta Decimales."
            },
            "date": {
              "type": "string",
              "description": "Fecha de la transacción con formato AAAAMMDD"
            },
            "codBnk": {
              "type": "string",
              "description": "Código bank serfinansa interno. CONSTANTE"
            },
            "indFor": {
              "type": "integer",
              "description": "constante en 0",
              "format": "int32"
            },
            "codCcy": {
              "type": "string",
              "description": "Moneda en IBS. CONSTANTE"
            },
            "indRev": {
              "type": "string"
            }
          }
        },
        "ValidateFieldCommon": {
          "type": "object"
        },
        "AnswerBean": {
          "type": "object",
          "properties": {
            "successful": {
              "type": "boolean",
              "description": "Estatus de peticion"
            },
            "code": {
              "type": "string",
              "description": "Codigo de peticion"
            },
            "message": {
              "type": "string",
              "description": "Mensaje de peticion"
            },
            "data": {
              "type": "object",
              "description": "Objeto respuesta"
            },
            "errorDetail": {
              "type": "string",
              "description": "Descripcion de error"
            }
          }
        }
      }
    }
  }
contentType: yaml
